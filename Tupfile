include_rules

src_c = src/dynamic_array.c \
    src/sim/solvers/euler.c \
    src/sim/viz.c \
    src/sim/sim.c \
    src/model/signal.c \
    src/model/param.c \
    src/model/block.c \
    src/model/model.c \
    src/model/compile.c \
    src/model/blocks/src/sine.c \
    src/model/blocks/src/cosine.c \
    src/main.c

CFLAGS += -g
LDFLAGS += -g
LDLIBS += -lm -ldl

: foreach $(src_c) |> !cc |> out/%B.o
: out/*.o |> !ld |> out/main

.gitignore