include_rules

src_c = src/dynamic_array.c \
    src/sim/solvers/euler.c \
    src/sim/plot.c \
    src/sim/csv.c \
    src/sim/sim.c \
    src/model/signal.c \
    src/model/param.c \
    src/model/block.c \
    src/model/model.c \
    src/model/compile.c \
    src/model/blocks/src/sine.c \
    src/model/blocks/src/cosine.c \
    src/model/blocks/src/step.c \
    src/model/blocks/src/istep.c \
    src/model/blocks/src/impulse.c \
    src/model/blocks/src/pulse.c \
    src/model/blocks/src/constant.c \
    src/model/blocks/src/ramp.c \
    src/main.c

CFLAGS += -g
LDFLAGS += -g
LDLIBS += -lm -ldl

: foreach $(src_c) |> !cc |> out/%B.o
: out/*.o |> !ld |> out/main

.gitignore